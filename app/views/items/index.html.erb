<h1>List of My To Do Items</h1>
</br>
</br>
  <div class="row">
    <div class="col-md-12">
      <% if @items.exists?(:status=>"open") %> <!-- Interesting construct to display only if it exists -->
        <h3>Open Items</h3>
        <%@i=0%>
        <% @items.each do |item| %>  <!-- User each_with_index to create numbering each_with_index only good for non if statement lists-->
          <div class="media">  
            <div class="media-body lead">
              <% if item.status =="open"%>
                <% @i+=1%> <!-- Was not easy to get.  Needs to be within the if statement -->
                <%=(@i)%>)  <%= item.name%> 
                <span class="pull-right"><%= link_to "Delete | ", item, method: :delete, data: {confirm: 'Are you sure you want to delete this To Do Item>'}%> 
                  <%= link_to "Done", item_done_path(item) %>
                </span>
                </br>
                <small class="pull-right">Expires - <%= item.expiration.to_date.to_formatted_s(:long_ordinal)%></small>
              <%end%>
            </div>
          </div>
        </br>
        <%end%>
      <%end%>
      
      <% if @items.exists?(:status=>"done") %> <!-- Interesting construct to display only if it exists -->
      <% if @items.exists?(:status=>"open")%><hr><%end%>
        <h3 class="text-muted">Completed Items</h3>
        <%@i=0%>
        <% @items.each do |item| %>  <!-- User each_with_index to create numbering each_with_index only good for non if statement lists-->
          <div class="media">  
            <div class="media-body lead text-muted">
              <% if item.status =="done"%>
                <% @i+=1%> <!-- Was not easy to get.  Needs to be within the if statement and @i needs to be set outside of loop -->
                <%=(@i)%>)  <%= item.name%> 
                <span class="pull-right"><%= link_to "Delete | ", item, method: :delete, data: {confirm: 'Are you sure you want to delete this To Do Item>'}%>                 
                  <%= link_to "Do Again", item_redo_path(item) %>
                </span>
                </br>
                <small class="pull-right">Deletion Date - <%= item.expiration.since(7.days).to_date.to_formatted_s(:long_ordinal)%></small><!--  Really helpful date construct to add days in display using since -->
                </br>
              <%end%>
            </div>
          </div>
        <%end%>
      <%end%>
      <%= button_to "Add New To Do", new_item_path, method: :get, class: 'btn btn-info btn-lg' %>
    </div>
</div>
